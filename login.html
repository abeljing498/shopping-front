<!DOCTYPE html>
<html lang="en">

<head>
    <title>Ultras - Clothing Store eCommerce Store HTML Website Template</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="icomoon/icomoon.css">
    <link rel="stylesheet" type="text/css" media="all"
          href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/vendor.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/alert.css">
    <!-- script
      ================================================== -->
    <script src="js/modernizr.js"></script>
    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="js/common.js"></script>
</head>

<body>

<div class="preloader-wrapper">
    <div class="preloader">
    </div>
</div>

<div id="head"></div>
<script type="text/javascript">
    $('#head').load('page-header.html')
</script>

<section class="site-banner jarallax padding-large"
         style="background: url(images/hero-image.jpg) no-repeat; background-position: top;">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1 class="page-title">Login</h1>
                <div class="breadcrumbs">
            <span class="item">
              <a href="index.html">Home /</a>
            </span>
                    <span class="item">Login</span>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="login-tabs padding-large no-padding-bottom">
    <div class="container">
        <div class="row">
            <div class="tabs-listing">
                <nav>
                    <div class="nav nav-tabs d-flex justify-content-center" id="nav-tab" role="tablist">
                        <button class="nav-link active" id="nav-sign-in-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-sign-in"
                                type="button" role="tab" aria-controls="nav-sign-in" aria-selected="true">Sign In
                        </button>
                        <button class="nav-link" id="nav-register-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-register"
                                type="button" role="tab" aria-controls="nav-register" aria-selected="false">Register
                        </button>
                    </div>
                </nav>
                <div class="tab-content" id="nav-tabContent">
                    <div class="tab-pane fade active" id="nav-sign-in" role="tabpanel"
                         aria-labelledby="nav-sign-in-tab">
                        <div class="form-group">
                            <label for="sign-in">Username or email address *</label>
                            <input type="text" minlength="2" name="username" placeholder="Your email"
                                   class="u-full-width bg-light" id="text_login_user_email">
                        </div>
                        <div class="form-group">
                            <label for="sign-in">Password *</label>
                            <input type="password" minlength="2" name="password" placeholder="Your Password"
                                   class="u-full-width bg-light" id="text_login_password">
                        </div>
                        <label>
                            <input type="checkbox">
                            <span class="label-body">Remember Me</span>
                            <span class="label-body"><a href="#">Forgot Password</a></span>
                        </label>
                        <button type="button" id="btn_login" class="btn btn-dark btn-full btn-medium">Login</button>
                    </div>
                    <div class="tab-pane fade" id="nav-register" role="tabpanel" aria-labelledby="nav-register-tab">
                        <div class="form-group">
                            <label for="register">Your username *</label>
                            <input type="text" minlength="2" placeholder="Your username"
                                   class="u-full-width bg-light" id="text_register_username">
                        </div>
                        <div class="form-group">
                            <label for="register">Your email address *</label>
                            <input type="text" minlength="2" placeholder="Your Email Address"
                                   class="u-full-width bg-light" id="text_register_email">
                        </div>
                        <div class="form-group">
                            <label for="sign-in">Password *</label>
                            <input type="password" minlength="2" placeholder="Your Password"
                                   class="u-full-width bg-light" id="text_register_password">
                        </div>

                        <button id="btn_regist" name="submit" class="btn btn-dark btn-full btn-medium">Register</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="instagram" class="padding-large">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Follow our instagram</h2>
        </div>
        <p>Our official Instagram account <a href="#">@ultras</a> or <a href="#">#ultras_clothing</a>
        </p>
        <div class="row d-flex flex-wrap justify-content-between">
            <div class="col-lg-2 col-md-4 col-sm-6">
                <figure class="zoom-effect">
                    <img src="images/insta-image1.jpg" alt="instagram" class="insta-image">
                    <i class="icon icon-instagram"></i>
                </figure>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6">
                <figure class="zoom-effect">
                    <img src="images/insta-image2.jpg" alt="instagram" class="insta-image">
                    <i class="icon icon-instagram"></i>
                </figure>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6">
                <figure class="zoom-effect">
                    <img src="images/insta-image3.jpg" alt="instagram" class="insta-image">
                    <i class="icon icon-instagram"></i>
                </figure>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6">
                <figure class="zoom-effect">
                    <img src="images/insta-image4.jpg" alt="instagram" class="insta-image">
                    <i class="icon icon-instagram"></i>
                </figure>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6">
                <figure class="zoom-effect">
                    <img src="images/insta-image5.jpg" alt="instagram" class="insta-image">
                    <i class="icon icon-instagram"></i>
                </figure>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6">
                <figure class="zoom-effect">
                    <img src="images/insta-image6.jpg" alt="instagram" class="insta-image">
                    <i class="icon icon-instagram"></i>
                </figure>
            </div>
        </div>
    </div>
</section>

<section id="shipping-information">
    <hr>
    <div class="container">
        <div class="row d-flex flex-wrap align-items-center justify-content-between">
            <div class="col-md-3 col-sm-6">
                <div class="icon-box">
                    <i class="icon icon-truck"></i>
                    <h4 class="block-title">
                        <strong>Free shipping</strong> Over $200
                    </h4>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="icon-box">
                    <i class="icon icon-return"></i>
                    <h4 class="block-title">
                        <strong>Money back</strong> Return within 7 days
                    </h4>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="icon-box">
                    <i class="icon icon-tags1"></i>
                    <h4 class="block-title">
                        <strong>Buy 4 get 5th</strong> 50% off
                    </h4>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="icon-box">
                    <i class="icon icon-help_outline"></i>
                    <h4 class="block-title">
                        <strong>Any questions?</strong> experts are ready
                    </h4>
                </div>
            </div>
        </div>
    </div>
    <hr>
</section>

<div id="footer"></div>
<script type="text/javascript">
    $('#footer').load('page-footer.html')
</script>
<script src="js/plugins.js"></script>
<script src="js/script.js"></script>
<script>
    $(document).ready(function () {

        // 示例GET请求
        $('#btn_login').click(function () {
            if ($('#text_login_user_email').val() === '') {
                alert("Email cannot be empty！");
                return
            } else {
                var emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
                var email = $('#text_login_user_email').val();
                if (!emailRegex.test(email)) {
                    alert("Please enter a valid email address！");
                    return;
                }
            }
            if ($('#text_login_password').val() === '') {
                alert("password cannot be empty");
                return
            }
            $.ajax({
                url: requestUrl + 'sso/login',
                type: "POST",
                data: {
                    email: $('#text_login_user_email').val(),
                    password: $('#text_login_password').val()
                }, // 提供一个对象，jQuery会自动将其转换为URL编码的字符串
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                success: function (response) {
                    if (response.code == 200) {
                        localStorage.setItem('token', response.data.token);
                        alert("Login succeeded！");
                        window.location.href = "shop.html";
                    } else {
                        alert('Incorrect username or password！');
                    }

                },
                error: function (err) {
                    console.error("提交失败:", err);
                }
            });
        });

        $('#btn_regist').click(function () {
            if ($('#text_register_username').val() === '') {
                alert("username cannot be empty！");
                return
            }
            if ($('#text_register_password').val() === '') {
                alert("password cannot be empty");
                return
            }
            if ($('#text_register_email').val() === '') {
                alert("email cannot be empty");
                return
            } else {
                var emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
                var email = $('#text_register_email').val();
                if (!emailRegex.test(email)) {
                    alert("Please enter a valid email address！");
                    return;
                }
            }
            $.ajax({
                url: requestUrl + 'sso/register',
                type: "POST",
                data: {
                    username: $('#text_register_username').val(),
                    password: $('#text_register_password').val(),
                    email: $('#text_register_email').val()
                }, // 提供一个对象，jQuery会自动将其转换为URL编码的字符串
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                success: function (response) {
                    if (response.code == 200) {
                        localStorage.removeItem('token');
                        alert("register succeeded！");
                        window.location.href = "login.html";
                    } else {
                        alert('User registration failed！');
                    }

                },
                error: function (err) {
                    console.error("提交失败:", err);
                }
            });
        });
    });
</script>

</body>

</html>